---
driver:
  name: dokken
  chef_version: 15  # Version currently installed by chefdk on Manjaro
  privileged: true  # allows systemd services to start

provisioner:
  name: dokken

transport:
  name: dokken

verifier:
  name: inspec

platforms:

  - name: manjaro
    intermediate_instructions:
      - RUN /usr/bin/pacman -Syyu --noconfirm
    pid_one_command: /bin/systemd
    driver:
      image: manjarolinux/base

suites:
  
  - name: default
    run_list:
      - recipe[jarbas::default]
    verifier:
      inspec_tests:
        - cookbooks/jarbas/test/integration/default/git_test.rb
        - cookbooks/jarbas/test/integration/default/zsh_test.rb
        - cookbooks/jarbas/test/integration/default/vim_test.rb
        - cookbooks/jarbas/test/integration/default/ranger_test.rb
        - cookbooks/jarbas/test/integration/default/urxvt_test.rb
